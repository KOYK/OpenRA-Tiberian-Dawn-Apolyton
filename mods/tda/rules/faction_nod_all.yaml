NUKE_NOD:
	Inherits@powerplant: NUKE
	RenderSprites:
		Image: NUKE
	Power:
		Amount: 15
	Valued:
		Cost: 500
	Tooltip:
		Name: Nod Nuclear Power Plant
	Replaceable:
		Types: PowerNod
	Pluggable:
		Conditions:
			PowerNod: PowerNod
		Requirements:
			PowerNod: !build-incomplete
	Buildable:
		BuildPaletteOrder: 10
		Prerequisites: fact
		Queue: Building.Nod, Building.Nodda
		Description: Generates nuclear power.\nChance for fail-safe failure 15%

NUK2_NOD:
	Inherits@powerplant2: NUK2
	RenderSprites:
		Image: NUK2
	Power:
		Amount: 45
	Valued:
		Cost: 500
	Tooltip:
		Name: Nod Advanced Nuclear Power Plant
	Plug:
		Type: PowerNod
	Buildable:
		BuildPaletteOrder: 15
		Prerequisites: ~anyhq, ~research_adv_nuke, ~techlevel.medium
		Queue: Building.Nod, Building.Nodda
		Description: Provides extra nuclear power\nthan its predecessor model.\nChance for fail-safe failure 30%
	Interactable:
	KillsSelf:
		RemoveInstead: true

HAND:
	Inherits: ^BaseBuilding
	Inherits@shape: ^2x2Shape
	HitShape:
		UseTargetableCellsOffsets: false
		TargetableOffsets: 0,0,0, 630,-512,0, 355,512,0, -281,-512,0, -630,512,0
	Valued:
		Cost: 500
	Tooltip:
		Name: Hand of Nod
	ProvidesPrerequisite:
		Prerequisite: barracks
	Buildable:
		BuildPaletteOrder: 30
		Prerequisites: ~anypower
		Queue: Building.Nod, Building.Nodda
		Description: Trains infantry
	Building:
		Footprint: xx xx ==
		Dimensions: 2,3
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 2500
	RevealsShroud:
		Range: 5c0
	WithBuildingBib:
	RallyPoint:
		Offset: 1,2
	Exit@1:
		SpawnOffset: 512,1024,0
		ExitCell: 1,2
	Production:
		Produces: Infantry.Nod, Infantry.Nodda
	WithDeliveryAnimation:
	ProductionQueue@NodInfantry:
		Type: Infantry.Nod
		Group: Infantry
		RequireOwner: false
		LowPowerSlowdown: 3
		Factions: nod
		QueuedAudio: Building
		ReadyAudio: UnitReady
		BlockedAudio: NoBuild
		LimitedAudio: BuildingInProgress
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
	ProductionQueue@NoddaInfantry:
		Type: Infantry.Nodda
		Group: Infantry
		RequireOwner: false
		LowPowerSlowdown: 3
		Factions: nodda
		QueuedAudio: Building
		ReadyAudio: UnitReady
		BlockedAudio: NoBuild
		LimitedAudio: BuildingInProgress
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
	ProductionBar@Nod:
		ProductionType: Infantry.Nod
	ProductionBar@Nodda:
		ProductionType: Infantry.Nodda
	Power:
		Amount: -5
	ProvidesPrerequisite@buildingname:
	Selectable:
		Bounds: 48,48
		DecorationBounds: 48,68,0,-10
	SelectionDecorations:
	InfiltrateForSupportPower:
		Proxy: barracks.upgraded
	Targetable:
		TargetTypes: Ground, C4, Structure, SpyInfiltrate, DetonateAttack, AItagRAX
	AmbientSound:
		SoundFiles: barracks.aud
		Delay: 5
	GrantConditionOnPrerequisite@HOSPITAL:
		Condition: hospitalheal
		Prerequisites: hosp
	WithDecoration@REDCROSS:
		Image: pips
		Sequence: pip-heal
		ReferencePoint: Top, Right
		RequiresCondition: hospitalheal
		ValidStances: Ally, Neutral
		RequiresSelection: True
	GrantConditionOnPrerequisite@BIO:
		Condition: hazmatsuits
		Prerequisites: bio
	WithDecoration@HAZMAT:
		Image: pips
		Sequence: pip-hazmat
		ReferencePoint: Top, Right
		RequiresCondition: hazmatsuits
		ValidStances: Ally, Neutral
		RequiresSelection: True

HANDSOLE:
	Inherits: HAND
	Power:
		Amount: 0
	RenderSprites:
		Image: hand
	-Buildable:
	CashTrickler:
		InitialDelay: 6000
		Interval: 6000
		Amount: 1000
		ShowTicks: False

AFLD:
	Inherits: ^BaseBuilding
	HitShape:
		TargetableOffsets: 0,0,0, 0,-512,256, 0,-1451,384, 0,512,128, 0,1536,85
		Type: Rectangle
			TopLeft: -2048, -1024
			BottomRight: 2048, 1024
	Valued:
		Cost: 2000
	Tooltip:
		Name: Airstrip
	ProvidesPrerequisite:
		Prerequisite: vehicleproduction
	Buildable:
		BuildPaletteOrder: 40
		Prerequisites: ~barracks
		Queue: Building.Nod, Building.Nodda
		Description: Provides a dropzone\nfor vehicle reinforcements
		BuildDuration: 750
		BuildDurationModifier: 100
	Building:
		Footprint: XXX_ xxxx ====
		Dimensions: 4,3
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 10000
	RevealsShroud:
		Range: 7c0
	WithBuildingBib:
	WithIdleOverlay@DISH:
		Sequence: idle-dish
	RallyPoint:
		Offset: 4,2
	Exit@1:
		SpawnOffset: -1024,0,0
		ExitCell: 3,1
	ProductionAirdrop:
		Produces: Vehicle.Nod, Vehicle.Nodda
	WithDeliveryAnimation:
	ProductionQueue@NodVehicle:
		Type: Vehicle.Nod
		Group: Vehicle
		RequireOwner: false
		LowPowerSlowdown: 3
		QueuedAudio: Building
		ReadyAudio: UnitReady
		BlockedAudio: NoBuild
		LimitedAudio: BuildingInProgress
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
		Factions: nod
	ProductionQueue@NoddaVehicle:
		Type: Vehicle.Nodda
		Group: Vehicle
		RequireOwner: false
		LowPowerSlowdown: 3
		QueuedAudio: Building
		ReadyAudio: UnitReady
		BlockedAudio: NoBuild
		LimitedAudio: BuildingInProgress
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
		Factions: nodda
	ProductionBar@Nod:
		ProductionType: Vehicle.Nod
	ProductionBar@Nodda:
		ProductionType: Vehicle.Nodda
	Power:
		Amount: -5
	ProvidesPrerequisite@buildingname:
	InfiltrateForSupportPower:
		Proxy: vehicles.upgraded
	Targetable:
		TargetTypes: Ground, C4, Structure, SpyInfiltrate, DetonateAttack, AItagWF
	WithDeliveryOverlay@LIGHTS:
		Sequence: active-lights
		Palette: PlayerColorLights
		IsPlayerPalette: true
	Selectable:
		Bounds: 96,48
	GrantConditionOnPrerequisite@MACHINE_SHOP:
		Condition: machine_shop_repair
		Prerequisites: fixn
	WithDecoration@MECH:
		Image: pips
		Sequence: pip-mech
		ReferencePoint: Right, Top
		RequiresCondition: machine_shop_repair
		RequiresSelection: True

FIX_NOD:
	Inherits@RepairFacility: FIX
	Tooltip:
		Name: Nod Repair Facility
	Buildable:
		BuildPaletteOrder: 60
		Prerequisites: ~vehicleproduction
		Queue: Building.Nod, Building.Nodda
		Description: Repairs vehicles
	WithRepairOverlay@LIGHTS:
		Sequence: active-lights
		Palette: PlayerColorLights
		IsPlayerPalette: true

TMPL:
	Inherits: ^BaseBuilding
	Inherits@IDISABLE: ^DisableOnLowPowerOrPowerDown
	Inherits@shape: ^3x2Shape
	HitShape:
		UseTargetableCellsOffsets: false
		TargetableOffsets: 0,0,0, 0,-896,0, 0,896,0, 840,0,0, -706,0,0, -706,-768,0, -706,640,0
	Valued:
		Cost: 5000
	Tooltip:
		Name: Temple of Nod
	Buildable:
		BuildPaletteOrder: 100
		Prerequisites: ~anytech, ~techlevel.high
		Queue: Defence.Nod, Defence.Nodda
		Description: Provides Nuclear Strike support power.\nRequires power to operate.
		BuildLimit: 1
	Building:
		Footprint: Xx_ xxx ===
		Dimensions: 3,3
		LocalCenterOffset: 0,-512,0
	Selectable:
		Bounds: 72,48
		DecorationBounds: 72,68,0,-12
	SelectionDecorations:
	Health:
		HP: 20000
	WithBuildingBib:
	NukePower:
		PauseOnCondition: disabled
		Prerequisites: ~techlevel.superweapons
		Icon: abomb
		Cursor: nuke
		ChargeInterval: 15000
		Description: Nuclear Strike
		LongDesc: Launch a tactical nuclear warhead.\nApplies heavy damage over a large area.
		EndChargeSpeechNotification: NuclearWeaponAvailable
		SelectTargetSpeechNotification: SelectTarget
		InsufficientPowerSpeechNotification: InsufficientPower
		LaunchSpeechNotification: NuclearWeaponLaunched
		IncomingSpeechNotification: EnemyNuke
		MissileWeapon: atomic
		DisplayBeacon: True
		BeaconPoster: atomic
		BeaconPosterPalette: beaconposter
		DisplayRadarPing: True
		DisplayTimerStances: Ally, Neutral, Enemy
		CameraRange: 10c0
		ArrowSequence: arrow
		CircleSequence: circles
		ClockSequence: clock
		AllowMultiple: True
		CameraRemoveDelay: 30
		CameraStances: Ally
		CameraSpawnAdvance: 25
		RevealGeneratedShroud: True
	RevealsShroud:
		Range: 4c0
		ValidStances: Ally, Enemy
	HiddenUnderFog:
		AlwaysVisibleStances: Ally, Enemy
		Type: CenterPosition
	-FrozenUnderFog:
	SupportPowerChargeBar:
	Power:
		Amount: -20
	ProvidesPrerequisite@buildingname:
	Targetable:
		TargetTypes: Ground, C4, Structure, DetonateAttack, AItagSuperWeapon
	WithDecoration@POWERDOWN:
		Image: poweroff
		Sequence: offline
		Palette: chrome
		RequiresCondition: powerdown
		ReferencePoint: Center
	PowerMultiplier@POWERDOWN:
		RequiresCondition: powerdown
		Modifier: 0
	WithNukeLaunchAnimation:

MISS_NOD:
	Inherits: ^BaseBuilding
	Inherits@IDISABLE: ^DisableOnLowPowerOrPowerDown
	Inherits@shape: ^3x2Shape
	HitShape:
		UseTargetableCellsOffsets: false
		TargetableOffsets: 0,0,0, 0,-896,0, 0,896,0, 840,0,0, -706,0,0, -706,-768,0, -706,640,0
	Building:
		Footprint: xx_ xxx ===
		Dimensions: 3,3
	Tooltip:
		Name: Tech Center
	Buildable:
		Queue: Building.Nod, Building.Nodda
		BuildPaletteOrder: 80
		Prerequisites: ~anyhq, ~techlevel.high
		Description: Provides Nod advanced technologies.
		BuildLimit: 1
	Valued:
		Cost: 4000
	WithBuildingBib:
		HasMinibib: Yes
	SpawnActorsOnSell:
		ActorTypes: scientist,scientist,scientist,scientist,scientist,scientist,scientist,scientist,scientist
	WithMakeAnimation:
	ProvidesPrerequisite@buildingname:
	ProvidesPrerequisite:
		Prerequisite: anytech
	Targetable:
		TargetTypes: Ground, C4, DetonateAttack, Structure
	Power:
		Amount: -15
	Health:
		HP: 10000
	WithDecoration@POWERDOWN:
		Image: poweroff
		Sequence: offline
		Palette: chrome
		RequiresCondition: powerdown
		ReferencePoint: Center
	PowerMultiplier@POWERDOWN:
		RequiresCondition: powerdown
		Modifier: 0
	RevealsShroud:
		Range: 5c0
	Selectable:
		Bounds: 72,48

GUN:
	Inherits: ^Defense
	Inherits@AUTOTARGET: ^AutoTargetGround
	Valued:
		Cost: 1200
	Tooltip:
		Name: Turret
	Buildable:
		BuildPaletteOrder: 55
		Prerequisites: ~barracks
		Queue: Defence.Nod, Defence.Nodda
		BuildDuration: 1440
		BuildDurationModifier: 40
		Description: Basic Anti-Tank base defense.\n  Strong vs Tanks, vehicles\n  Weak vs Infantry
	Building:
	Health:
		HP: 5000
	Armor:
		Type: Heavy
	RevealsShroud:
		Range: 6c0
	WithBuildingBib:
		HasMinibib: Yes
	Turreted:
		TurnSpeed: 12
		InitialFacing: 56
	-WithSpriteBody:
	WithEmbeddedTurretSpriteBody:
	Armament:
		Weapon: TurretGun
		LocalOffset: 512,0,112
		MuzzleSequence: muzzle
	AttackTurreted:
	WithMuzzleOverlay:
	-WithDeathAnimation:
	DetectCloaked:
		Range: 3c0
	Power:
		Amount: -8
	BodyOrientation:
		UseClassicFacingFudge: True
	Selectable:
		Bounds: 24,24

SAM:
	Inherits: ^Defense
	Inherits@IDISABLE: ^DisableOnLowPowerOrPowerDown
	Inherits@AUTOTARGET: ^AutoTargetAir
	Inherits@shape: ^2x1Shape
	HitShape:
		Type: Rectangle
			TopLeft: -768,-512
			BottomRight: 768,512
	Valued:
		Cost: 800
	Tooltip:
		Name: SAM Site
	Buildable:
		BuildPaletteOrder: 56
		Prerequisites: ~anyhq
		Queue: Defence.Nod, Defence.Nodda
		BuildDuration: 1700
		BuildDurationModifier: 40
		Description: Anti-Aircraft base defense.\n  Strong vs Aircraft\n  Cannot target Ground units.
	Building:
		Footprint: xx
		Dimensions: 2,1
	Health:
		HP: 8000
	Armor:
		Type: Heavy
	RevealsShroud:
		Range: 8c0
	Turreted:
		TurnSpeed: 10
		InitialFacing: 0
		RealignDelay: -1
	-WithSpriteBody:
	WithEmbeddedTurretSpriteBody:
	Armament:
		Weapon: SAMMissile
		MuzzleSequence: muzzle
	AmmoPool:
		Ammo: 6
		PipCount: 0
	AttackPopupTurreted:
		ClosedDamageMultiplier: 40
		PauseOnCondition: disabled
	WithMuzzleOverlay:
	-RenderDetectionCircle:
	Power:
		Amount: -6
	BodyOrientation:
		UseClassicFacingFudge: True
	Targetable:
		TargetTypes: Ground, C4, Structure, DetonateAttack, Defense, AItagAvoid
	ReloadAmmoPool@1:
		Delay: 75
		Count: 2
	Selectable:
		Bounds: 48,24

OBLI:
	Inherits: ^Defense
	Inherits@IDISABLE: ^DisableOnLowPowerOrPowerDown
	Inherits@AUTOTARGET: ^AutoTargetGround
	Valued:
		Cost: 2000
	Tooltip:
		Name: Obelisk of Light
	Buildable:
		BuildPaletteOrder: 60
		Prerequisites: ~miss_nod, ~techlevel.high
		Queue: Defence.Nod, Defence.Nodda
		BuildDuration: 3120
		BuildDurationModifier: 40
		Description: Advanced base defense.\nRequires power to operate.\n  Strong vs all Ground units\n  Cannot target Aircraft
	Selectable:
		Bounds: 24,24
		DecorationBounds: 22,44,0,-10
	SelectionDecorations:
	Health:
		HP: 7500
	Armor:
		Type: Heavy
	RevealsShroud:
		Range: 8c0
	WithBuildingBib:
		HasMinibib: Yes
	WithTeslaChargeAnimation:
	Armament:
		Weapon: Laser
		LocalOffset: 0,-85,1280
		FireDelay: 0
	AttackTesla:
		ChargeAudio: obelpowr.aud
		ReloadDelay: 40
		InitialChargeDelay: 50
		PauseOnCondition: disabled
	-SpawnActorsOnSell:
		ActorTypes: e1
	DetectCloaked:
		Range: 5c0
		RequiresCondition: !disabled
	Power:
		Amount: -15
	#WithIdleOverlay@LIGHTS:
	#	Sequence: active-lights
	#	Palette: PlayerColorLights
	#	IsPlayerPalette: true
	#this above crashes the game